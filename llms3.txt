# jplawdb3 llms3 (Minimal Routing)

## 目的
1回の指定で対象を確定し、最短で本文 `txt` に到達する。
法律・通達データ本体は保持し、導線だけ最小化する。

## 最小導線（通常運用はこれだけ）
1. クエリを1行で指定する
2. `text/.../part-001.txt` を取得する
3. 必要なら `part-002`, `part-003` ... を順に取得する
4. 404になったら終了する

## Query Contract v2
- 法令: `LAW:{law_code}:{article_id}`
- 通達: `TSU:{doc_code}:{item_id}`

## 直接本文URLテンプレート
- 法令本文: `https://jplawdb3.github.io/jplawdb3/ai-law-db/text/{law_code}/{article_id}/part-{part}.txt`
- 通達本文: `https://jplawdb3.github.io/jplawdb3/ai-tsutatsu-db/text/{doc_code}/{item_id}/part-{part}.txt`

## 固定アルゴリズム（JSON探索なし）
1. `LAW`/`TSU` を判定
2. 上記テンプレートで `part-001` を取得
3. 追加読込が必要なときだけ次partへ進む
4. 404で停止

## Fail-fast
- `ERROR: INVALID_QUERY_FORMAT`
- `EXPECTED: LAW:{law_code}:{article_id} | TSU:{doc_code}:{item_id}`
- `NEXT_ACTION: 正規コードとIDを1回で再指定`

## 非推奨（通常運用では使わない）
- `resolve_*` / `alias` / `sitemap` / `enhanced` への探索
- 曖昧一致・推測検索
- 不要URLの横断取得

## 例
- `LAW:hojinzei:22-2`
  - `.../ai-law-db/text/hojinzei/22-2/part-001.txt`
- `LAW:shotokuzei:120`
  - `.../ai-law-db/text/shotokuzei/120/part-001.txt`
- `TSU:hojinzei_kihon_tsutatsu:9-3-3`
  - `.../ai-tsutatsu-db/text/hojinzei_kihon_tsutatsu/9-3-3/part-001.txt`
- `TSU:sozokuzei_kihon_tsutatsu:39-10`
  - `.../ai-tsutatsu-db/text/sozokuzei_kihon_tsutatsu/39-10/part-001.txt`
