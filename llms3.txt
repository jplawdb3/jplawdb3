# jplawdb3 llms3（AI最短導線）

## 最優先原則
AIが「最短距離で必要根拠に到達する」ことを最優先とする。

## 設計原則（必須）
- 1 URL <= 10,000 tokens
- 軽量索引 -> ID確定 -> part本文 の順で進む
- 1回答で開くURLは必要最小限にする
- 巨大単一JSONは使わない（分割索引を使う）
- 旧URL（`.../{id}.txt`, `.../{id}.html`）は使わない

## 入口
- ルート: `https://jplawdb3.github.io/jplawdb3/`
- 法令: `https://jplawdb3.github.io/jplawdb3/ai-law-db/quickstart.txt`
- 通達: `https://jplawdb3.github.io/jplawdb3/ai-tsutatsu-db/quickstart.txt`

## 最短探索アルゴリズム
1. 法令か通達かを判定する
2. aliasで正規コードを確定する
3. `resolve_lite/{code}.json` で対象ID（`article` or `item_id`）を確定する
4. `data/parts/.../{code}/{id}.json` で part 数を把握する
5. `part-001` から必要分だけ読む
6. 根拠提示時は `enhanced/.../part-{part}.html#p{n}` を使う
7. 不足時のみ隣接partを追加取得する

## 法令パス（ai-law-db）
- alias: `ai-law-db/data/law_aliases.json`
- 索引: `ai-law-db/data/resolve_lite/{law_code}.json`
- parts: `ai-law-db/data/parts/law/{law_code}/{article}.json`
- 本文: `ai-law-db/text/{law_code}/{article}/part-{part}.txt`
- 根拠: `ai-law-db/enhanced/{law_code}/{article}/part-{part}.html#p{n}`

## 通達パス（ai-tsutatsu-db）
- alias: `ai-tsutatsu-db/data/doc_aliases.json`
- 索引: `ai-tsutatsu-db/data/resolve_lite/{doc_code}.json`
- parts: `ai-tsutatsu-db/data/parts/tsutatsu/{doc_code}/{item_id}.json`
- 本文: `ai-tsutatsu-db/text/{doc_code}/{item_id}/part-{part}.txt`
- 根拠: `ai-tsutatsu-db/enhanced/{doc_code}/{item_id}/part-{part}.html#p{n}`

## 反パターン
- 先に全文を取りにいく
- alias確定前に本文探索する
- 10k超URL前提で読む
- モノリスJSON前提で探索する
